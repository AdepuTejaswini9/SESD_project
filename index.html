<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portfolio Builder</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .page {
            display: none;
            width: 100%;
            max-width: 800px;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            padding: 40px;
            animation: fadeIn 0.3s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        h1 { color: #667eea; margin-bottom: 10px; text-align: center; }
        h2 { color: #764ba2; margin-top: 30px; margin-bottom: 15px; border-bottom: 2px solid #667eea; padding-bottom: 10px; }
        p { color: #666; line-height: 1.6; margin-bottom: 20px; text-align: center; }
        .input-group { margin-bottom: 20px; }
        label { display: block; margin-bottom: 5px; color: #333; font-weight: 600; }
        input, textarea {
            width: 100%; padding: 12px; border: 2px solid #ddd; border-radius: 8px;
            font-size: 14px; transition: border-color 0.3s;
        }
        input:focus, textarea:focus { outline: none; border-color: #667eea; }
        textarea { resize: vertical; min-height: 100px; }
        button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white; border: none; padding: 12px 30px; border-radius: 8px;
            font-size: 16px; cursor: pointer; transition: transform 0.2s, box-shadow 0.2s; margin: 5px;
        }
        button:hover { transform: translateY(-2px); box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4); }
        button.secondary { background: #6c757d; }
        button.danger { background: #dc3545; }
        button.success { background: #28a745; }
        .button-group { display: flex; justify-content: center; flex-wrap: wrap; margin-top: 20px; }
        .dynamic-section {
            background: #f8f9fa; padding: 20px; border-radius: 10px;
            margin-bottom: 20px; position: relative;
        }
        .remove-btn {
            position: absolute; top: 10px; right: 10px; padding: 5px 15px; font-size: 14px;
        }
        .error { color: #dc3545; font-size: 14px; margin-top: 5px; display: none; }
        #generatedPortfolio {
            margin-top: 30px; padding: 30px; background: #f8f9fa; border-radius: 10px; display: none;
        }
        #generatedPortfolio h1 { color: #333; border-bottom: 3px solid #667eea; padding-bottom: 15px; }
        #generatedPortfolio h2 { color: #667eea; margin-top: 25px; }
        #generatedPortfolio h3 { color: #764ba2; margin-top: 15px; }
        #generatedPortfolio p, #generatedPortfolio ul { color: #333; }
        #generatedPortfolio ul { list-style-position: inside; margin-top: 10px; }
        .portfolio-section { margin-bottom: 25px; }
        .form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
        @media (max-width: 768px) {
            .page { padding: 20px; }
            .form-row { grid-template-columns: 1fr; }
            button { width: 100%; margin: 5px 0; }
            .button-group { flex-direction: column; }
        }
    </style>
</head>
<body>

<!-- HOME PAGE -->
<div id="homePage" class="page">
    <h1>Portfolio Builder</h1>
    <p>Create your professional portfolio in minutes! Showcase your skills, projects, and achievements easily.</p>
    <div class="button-group">
        <button onclick="showPage('loginPage')">Login</button>
        <button onclick="showPage('signupPage')">Signup</button>
    </div>
</div>

<!-- LOGIN PAGE -->
<div id="loginPage" class="page">
    <h1>Login</h1>
    <p>Welcome back! Please log in to continue.</p>
    <div class="input-group">
        <label>Email</label>
        <input type="email" id="loginEmail" placeholder="Enter your email">
        <span class="error" id="loginEmailError">Email is required</span>
    </div>
    <div class="input-group">
        <label>Password</label>
        <input type="password" id="loginPassword" placeholder="Enter your password">
        <span class="error" id="loginPasswordError">Password is required</span>
    </div>
    <div class="button-group">
        <button onclick="handleLogin()">Login</button>
        <button class="secondary" onclick="showPage('homePage')">Back to Home</button>
    </div>
</div>

<!-- SIGNUP PAGE -->
<div id="signupPage" class="page">
    <h1>Signup</h1>
    <p>Create your new account to start building portfolios.</p>
    <div class="input-group">
        <label>Full Name</label>
        <input type="text" id="signupName" placeholder="Enter your full name">
        <span class="error" id="signupNameError">Full name is required</span>
    </div>
    <div class="input-group">
        <label>Email</label>
        <input type="email" id="signupEmail" placeholder="Enter your email">
        <span class="error" id="signupEmailError">Email is required</span>
    </div>
    <div class="input-group">
        <label>Password</label>
        <input type="password" id="signupPassword" placeholder="Create a password">
        <span class="error" id="signupPasswordError">Password is required</span>
    </div>
    <div class="input-group">
        <label>Confirm Password</label>
        <input type="password" id="signupConfirmPassword" placeholder="Confirm your password">
        <span class="error" id="signupConfirmPasswordError">Passwords do not match</span>
    </div>
    <div class="button-group">
        <button onclick="handleSignup()">Signup</button>
        <button class="secondary" onclick="showPage('homePage')">Back to Home</button>
    </div>
</div>

<!-- MAIN PORTFOLIO FORM PAGE -->
<div id="formPage" class="page">
    <h1>Build Your Portfolio</h1>

    <h2>Personal Information</h2>
    <div class="form-row">
        <div class="input-group"><label>Full Name *</label><input type="text" id="fullName" placeholder="John Doe"></div>
        <div class="input-group"><label>Email *</label><input type="email" id="email" placeholder="john@example.com"></div>
    </div>
    <div class="form-row">
        <div class="input-group"><label>Phone *</label><input type="tel" id="phone" placeholder="+1 234 567 8900"></div>
        <div class="input-group"><label>Professional Title *</label><input type="text" id="professionalTitle" placeholder="Full Stack Developer"></div>
    </div>
    <div class="form-row">
        <div class="input-group"><label>LinkedIn URL</label><input type="url" id="linkedin" placeholder="https://linkedin.com/in/yourprofile"></div>
        <div class="input-group"><label>GitHub URL</label><input type="url" id="github" placeholder="https://github.com/yourusername"></div>
    </div>
    <div class="input-group"><label>About Me *</label><textarea id="about" placeholder="Tell us about yourself..."></textarea></div>

    <h2>Education</h2>
    <div id="educationContainer"></div>
    <button onclick="addEducation()">Add Education</button>

    <h2>Projects</h2>
    <div id="projectsContainer"></div>
    <button onclick="addProject()">Add Project</button>

    <h2>Skills</h2>
    <div id="skillsContainer"></div>
    <button onclick="addSkill()">Add Skill</button>

    <div class="button-group">
        <button class="success" onclick="generatePortfolio()">Generate Portfolio</button>
        <button class="secondary" onclick="resetForm()">Reset Form</button>
        <button class="danger" onclick="logout()">Logout</button>
    </div>

    <div id="generatedPortfolio"></div>
    <div class="button-group" id="downloadSection" style="display:none;">
        <button onclick="downloadPortfolio()">Download Portfolio</button>
    </div>
</div>

<script>
let educationCount = 0, projectCount = 0, skillCount = 0;

// Navigation
function showPage(pageId) {
    document.querySelectorAll('.page').forEach(p => p.style.display = 'none');
    document.getElementById(pageId).style.display = 'block';
}
window.onload = () => showPage('homePage');

// ✅ Signup with localStorage
function handleSignup() {
    const name = signupName.value.trim(), email = signupEmail.value.trim(),
          pass = signupPassword.value.trim(), confirm = signupConfirmPassword.value.trim();
    let ok = true;
    ['signupNameError','signupEmailError','signupPasswordError','signupConfirmPasswordError']
        .forEach(id => document.getElementById(id).style.display='none');
    if(!name){signupNameError.style.display='block'; ok=false;}
    if(!email){signupEmailError.style.display='block'; ok=false;}
    if(!pass){signupPasswordError.style.display='block'; ok=false;}
    if(pass!==confirm){signupConfirmPasswordError.style.display='block'; ok=false;}
    if(!ok) return;

    const user = {name,email,password:pass};
    localStorage.setItem('portfolioUser', JSON.stringify(user));
    alert('Signup successful! Please login.');
    showPage('loginPage');
    signupName.value=signupEmail.value=signupPassword.value=signupConfirmPassword.value='';
}

// ✅ Login validation
function handleLogin() {
    const email = loginEmail.value.trim(), pass = loginPassword.value.trim();
    let ok=true;
    ['loginEmailError','loginPasswordError'].forEach(id=>document.getElementById(id).style.display='none');
    if(!email){loginEmailError.style.display='block'; ok=false;}
    if(!pass){loginPasswordError.style.display='block'; ok=false;}
    if(!ok) return;

    const storedUser = JSON.parse(localStorage.getItem('portfolioUser'));
    if(!storedUser){
        alert('No account found. Please sign up first.');
        showPage('signupPage');
        return;
    }
    if(storedUser.email===email && storedUser.password===pass){
        alert(`Welcome back, ${storedUser.name}!`);
        showPage('formPage');
        loginEmail.value=loginPassword.value='';
    } else alert('Incorrect email or password.');
}

// Dynamic sections
function addEducation(){educationCount++;const c=document.getElementById('educationContainer');
c.insertAdjacentHTML('beforeend',`<div class="dynamic-section" id="edu${educationCount}">
<button class="remove-btn danger" onclick="removeElement('edu${educationCount}')">Remove</button>
<div class="form-row"><div class="input-group"><label>Degree</label><input name="degree" placeholder="B.Tech"></div>
<div class="input-group"><label>Institution</label><input name="institution" placeholder="University"></div></div>
<div class="form-row"><div class="input-group"><label>Year</label><input name="year" placeholder="2021-2025"></div>
<div class="input-group"><label>CGPA</label><input name="cgpa" placeholder="8.5 CGPA"></div></div></div>`);}
function addProject(){projectCount++;const c=document.getElementById('projectsContainer');
c.insertAdjacentHTML('beforeend',`<div class="dynamic-section" id="proj${projectCount}">
<button class="remove-btn danger" onclick="removeElement('proj${projectCount}')">Remove</button>
<div class="input-group"><label>Project Title</label><input name="projectTitle" placeholder="Portfolio Builder"></div>
<div class="input-group"><label>Technologies</label><input name="technologies" placeholder="HTML, CSS, JS"></div>
<div class="input-group"><label>Description</label><textarea name="projectDescription" placeholder="Describe project..."></textarea></div></div>`);}
function addSkill(){skillCount++;const c=document.getElementById('skillsContainer');
c.insertAdjacentHTML('beforeend',`<div class="dynamic-section" id="skill${skillCount}">
<button class="remove-btn danger" onclick="removeElement('skill${skillCount}')">Remove</button>
<div class="input-group"><label>Skill Name</label><input name="skillName" placeholder="JavaScript"></div></div>`);}
function removeElement(id){const e=document.getElementById(id);if(e)e.remove();}

// Generate Portfolio
function generatePortfolio(){
const f=fullName.value.trim(),e=email.value.trim(),p=phone.value.trim(),t=professionalTitle.value.trim(),ln=linkedin.value.trim(),gh=github.value.trim(),a=about.value.trim();
if(!f||!e||!p||!t||!a){alert('Please fill all required fields!');return;}
let html=`<h1>${f}</h1><div class="portfolio-section"><h3>${t}</h3><p><strong>Email:</strong> ${e} | <strong>Phone:</strong> ${p}</p>`;
if(ln)html+=`<p><strong>LinkedIn:</strong> <a href="${ln}" target="_blank">${ln}</a></p>`;
if(gh)html+=`<p><strong>GitHub:</strong> <a href="${gh}" target="_blank">${gh}</a></p>`;
html+=`</div><div class="portfolio-section"><h2>About Me</h2><p>${a}</p></div>`;
const edu=document.querySelectorAll('#educationContainer .dynamic-section');if(edu.length){html+=`<div class="portfolio-section"><h2>Education</h2>`;edu.forEach(x=>{
const d=x.querySelector('input[name="degree"]').value,i=x.querySelector('input[name="institution"]').value,y=x.querySelector('input[name="year"]').value,cg=x.querySelector('input[name="cgpa"]').value;
html+=`<div><h3>${d}</h3><p>${i}</p><p>${y} ${cg?`| CGPA: ${cg}`:''}</p></div>`;});html+='</div>';}
const proj=document.querySelectorAll('#projectsContainer .dynamic-section');if(proj.length){html+=`<div class="portfolio-section"><h2>Projects</h2>`;proj.forEach(x=>{
const t=x.querySelector('input[name="projectTitle"]').value,tech=x.querySelector('input[name="technologies"]').value,desc=x.querySelector('textarea[name="projectDescription"]').value;
html+=`<div><h3>${t}</h3><p><strong>Tech:</strong> ${tech}</p><p>${desc}</p></div>`;});html+='</div>';}
const sk=document.querySelectorAll('#skillsContainer .dynamic-section');if(sk.length){html+=`<div class="portfolio-section"><h2>Skills</h2><ul>`;sk.forEach(x=>{
const s=x.querySelector('input[name="skillName"]').value;if(s)html+=`<li>${s}</li>`;});html+='</ul></div>';}
generatedPortfolio.innerHTML=html;generatedPortfolio.style.display='block';downloadSection.style.display='flex';generatedPortfolio.scrollIntoView({behavior:'smooth'});}
function downloadPortfolio(){
const content=generatedPortfolio.innerHTML;if(!content){alert('Generate portfolio first!');return;}
const full=`<!DOCTYPE html><html><head><meta charset="UTF-8"><title>My Portfolio</title><style>body{font-family:'Segoe UI';max-width:900px;margin:auto;padding:40px;background:#f5f5f5;}h1{border-bottom:3px solid #667eea;}h2{color:#667eea;}h3{color:#764ba2;}ul{list-style-position:inside;}</style></head><body>${content}</body></html>`;
const blob=new Blob([full],{type:'text/html'});const url=URL.createObjectURL(blob);const a=document.createElement('a');a.href=url;a.download='my-portfolio.html';a.click();URL.revokeObjectURL(url);}
function resetForm(){if(confirm('Reset form?')){['fullName','email','phone','professionalTitle','linkedin','github','about'].forEach(id=>document.getElementById(id).value='');
educationContainer.innerHTML=projectsContainer.innerHTML=skillsContainer.innerHTML='';educationCount=projectCount=skillCount=0;
generatedPortfolio.style.display=downloadSection.style.display='none';alert('Form reset.');}}
function logout(){if(confirm('Logout?')){resetForm();localStorage.removeItem('portfolioUser');showPage('homePage');}}
</script>
</body>
</html>
